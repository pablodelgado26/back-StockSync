{
  "info": {
    "_postman_id": "stocksync-api-2025",
    "name": "StockSync API",
    "description": "Documenta√ß√£o completa da API do sistema StockSync - Gerenciamento de Estoque\n\n## üöÄ Como Usar\n\n1. Execute o seed para popular o banco: `node prisma/seed/seedStock.js`\n2. Inicie o servidor: `npm run dev`\n3. Fa√ßa login com uma das credenciais abaixo\n4. Use o token JWT retornado nas requisi√ß√µes protegidas\n\n## üîê Credenciais de Teste\n\n**Admin:**\n- Email: admin@stocksync.com\n- Senha: 123456\n\n**Estoquista:**\n- Email: maria.estoquista@stocksync.com\n- Senha: 123456",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Autentica√ß√£o",
      "item": [
        {
          "name": "Register",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Novo Usu√°rio\",\n  \"email\": \"novo@stocksync.com\",\n  \"password\": \"123456\",\n  \"role\": \"estoquista\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/register",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "register"]
            },
            "description": "Registra um novo usu√°rio no sistema.\n\n**Campos obrigat√≥rios:**\n- name: Nome completo\n- email: Email √∫nico\n- password: Senha (m√≠nimo 6 caracteres)\n\n**Campo opcional:**\n- role: \"admin\" ou \"estoquista\" (padr√£o: estoquista)"
          },
          "response": []
        },
        {
          "name": "Login",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    pm.environment.set('authToken', response.token);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"admin@stocksync.com\",\n  \"password\": \"123456\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/login",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "login"]
            },
            "description": "Autentica um usu√°rio e retorna um token JWT.\n\n**Resposta:**\n- token: JWT para usar em requisi√ß√µes protegidas\n- user: Dados do usu√°rio (sem senha)\n\n**O token √© salvo automaticamente na vari√°vel de ambiente `authToken`**"
          },
          "response": []
        },
        {
          "name": "Get All Users (Admin)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/auth/users",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "users"]
            },
            "description": "Lista todos os usu√°rios cadastrados no sistema.\n\n**Requer autentica√ß√£o.**"
          },
          "response": []
        }
      ],
      "description": "Endpoints de autentica√ß√£o e gerenciamento de usu√°rios"
    },
    {
      "name": "Fornecedores",
      "item": [
        {
          "name": "List Suppliers",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/suppliers",
              "host": ["{{baseUrl}}"],
              "path": ["suppliers"]
            },
            "description": "Lista todos os fornecedores cadastrados.\n\n**Permiss√µes:** Admin e Estoquista"
          },
          "response": []
        },
        {
          "name": "Get Supplier by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/suppliers/1",
              "host": ["{{baseUrl}}"],
              "path": ["suppliers", "1"]
            },
            "description": "Busca um fornecedor espec√≠fico por ID.\n\n**Permiss√µes:** Admin e Estoquista"
          },
          "response": []
        },
        {
          "name": "Create Supplier (Admin)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nome\": \"Tech Distribuidor LTDA\",\n  \"contato\": \"(11) 98765-4321\",\n  \"cnpj\": \"12345678/0001-90\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/suppliers",
              "host": ["{{baseUrl}}"],
              "path": ["suppliers"]
            },
            "description": "Cria um novo fornecedor.\n\n**Permiss√µes:** Apenas Admin\n\n**Campos obrigat√≥rios:**\n- nome: Nome do fornecedor\n- contato: Telefone de contato\n- cnpj: CNPJ √∫nico"
          },
          "response": []
        },
        {
          "name": "Update Supplier (Admin)",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nome\": \"Tech Distribuidor Atualizado LTDA\",\n  \"contato\": \"(11) 91234-5678\",\n  \"cnpj\": \"12345678/0001-90\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/suppliers/1",
              "host": ["{{baseUrl}}"],
              "path": ["suppliers", "1"]
            },
            "description": "Atualiza os dados de um fornecedor.\n\n**Permiss√µes:** Apenas Admin"
          },
          "response": []
        },
        {
          "name": "Delete Supplier (Admin)",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/suppliers/1",
              "host": ["{{baseUrl}}"],
              "path": ["suppliers", "1"]
            },
            "description": "Exclui um fornecedor do sistema.\n\n**Permiss√µes:** Apenas Admin\n\n**‚ö†Ô∏è Aten√ß√£o:** Remove tamb√©m todos os produtos associados (CASCADE)"
          },
          "response": []
        }
      ],
      "description": "Gerenciamento de fornecedores"
    },
    {
      "name": "Produtos",
      "item": [
        {
          "name": "List Products",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/products",
              "host": ["{{baseUrl}}"],
              "path": ["products"]
            },
            "description": "Lista todos os produtos com estoque atual e dados do fornecedor.\n\n**Permiss√µes:** Admin e Estoquista\n\n**Retorna:**\n- barcode: C√≥digo de barras\n- name: Nome do produto\n- description: Descri√ß√£o\n- price: Pre√ßo\n- stock: Estoque atual\n- category: Categoria\n- estoqueMinimo: Estoque m√≠nimo\n- fornecedor: Dados do fornecedor"
          },
          "response": []
        },
        {
          "name": "Get Product by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/products/1",
              "host": ["{{baseUrl}}"],
              "path": ["products", "1"]
            },
            "description": "Busca um produto espec√≠fico com estoque atual.\n\n**Permiss√µes:** Admin e Estoquista"
          },
          "response": []
        },
        {
          "name": "Get Product by Barcode",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/products/barcode/1234567890123",
              "host": ["{{baseUrl}}"],
              "path": ["products", "barcode", "1234567890123"]
            },
            "description": "Busca um produto pelo c√≥digo de barras.\n\n**Permiss√µes:** Admin e Estoquista\n\n**√ötil para:** Leitura de c√≥digo de barras no frontend"
          },
          "response": []
        },
        {
          "name": "Create Product (Admin)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"barcode\": \"1234567890123\",\n  \"name\": \"Mouse Gamer RGB Pro\",\n  \"description\": \"Mouse gamer com ilumina√ß√£o RGB e 7 bot√µes program√°veis\",\n  \"price\": 159.90,\n  \"stock\": 0,\n  \"category\": \"Perif√©ricos\",\n  \"estoqueMinimo\": 10,\n  \"fornecedorId\": 1\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/products",
              "host": ["{{baseUrl}}"],
              "path": ["products"]
            },
            "description": "Cria um novo produto.\n\n**Permiss√µes:** Apenas Admin\n\n**Campos obrigat√≥rios:**\n- barcode: C√≥digo de barras √∫nico (EAN-13)\n- name: Nome do produto\n- price: Pre√ßo do produto\n- stock: Estoque inicial (geralmente 0)\n- category: Categoria do produto\n- estoqueMinimo: Quantidade m√≠nima em estoque\n- fornecedorId: ID do fornecedor\n\n**Campo opcional:**\n- description: Descri√ß√£o detalhada"
          },
          "response": []
        },
        {
          "name": "Update Product (Admin)",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Mouse Gamer RGB Pro Plus\",\n  \"description\": \"Mouse gamer com ilumina√ß√£o RGB, 7 bot√µes e sensor de alta precis√£o\",\n  \"price\": 189.90,\n  \"category\": \"Perif√©ricos\",\n  \"estoqueMinimo\": 15\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/products/1",
              "host": ["{{baseUrl}}"],
              "path": ["products", "1"]
            },
            "description": "Atualiza os dados de um produto.\n\n**Permiss√µes:** Apenas Admin\n\n**Nota:** Barcode, stock e fornecedorId tamb√©m podem ser alterados se necess√°rio"
          },
          "response": []
        },
        {
          "name": "Delete Product (Admin)",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/products/1",
              "host": ["{{baseUrl}}"],
              "path": ["products", "1"]
            },
            "description": "Exclui um produto do sistema.\n\n**Permiss√µes:** Apenas Admin\n\n**‚ö†Ô∏è Aten√ß√£o:** Remove tamb√©m todas as movimenta√ß√µes associadas (CASCADE)"
          },
          "response": []
        }
      ],
      "description": "Gerenciamento de produtos"
    },
    {
      "name": "Movimenta√ß√µes",
      "item": [
        {
          "name": "List Stock Movements",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/stockmovements",
              "host": ["{{baseUrl}}"],
              "path": ["stockmovements"]
            },
            "description": "Lista todas as movimenta√ß√µes de estoque.\n\n**Permiss√µes:** Admin e Estoquista\n\n**Retorna:** Movimenta√ß√µes ordenadas por data (mais recentes primeiro)"
          },
          "response": []
        },
        {
          "name": "Filter by Type (Entrada)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/stockmovements?tipo=entrada",
              "host": ["{{baseUrl}}"],
              "path": ["stockmovements"],
              "query": [
                {
                  "key": "tipo",
                  "value": "entrada",
                  "description": "Filtrar apenas entradas"
                }
              ]
            },
            "description": "Filtra movimenta√ß√µes por tipo \"entrada\"."
          },
          "response": []
        },
        {
          "name": "Filter by Type (Sa√≠da)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/stockmovements?tipo=saida",
              "host": ["{{baseUrl}}"],
              "path": ["stockmovements"],
              "query": [
                {
                  "key": "tipo",
                  "value": "saida",
                  "description": "Filtrar apenas sa√≠das"
                }
              ]
            },
            "description": "Filtra movimenta√ß√µes por tipo \"saida\"."
          },
          "response": []
        },
        {
          "name": "Filter by Date Range",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/stockmovements?dataInicio=2025-01-01&dataFim=2025-12-31",
              "host": ["{{baseUrl}}"],
              "path": ["stockmovements"],
              "query": [
                {
                  "key": "dataInicio",
                  "value": "2025-01-01",
                  "description": "Data inicial (YYYY-MM-DD)"
                },
                {
                  "key": "dataFim",
                  "value": "2025-12-31",
                  "description": "Data final (YYYY-MM-DD)"
                }
              ]
            },
            "description": "Filtra movimenta√ß√µes por intervalo de datas.\n\n**Par√¢metros:**\n- dataInicio: Data inicial (opcional)\n- dataFim: Data final (opcional)"
          },
          "response": []
        },
        {
          "name": "Filter by Product",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/stockmovements?produtoId=1",
              "host": ["{{baseUrl}}"],
              "path": ["stockmovements"],
              "query": [
                {
                  "key": "produtoId",
                  "value": "1",
                  "description": "ID do produto"
                }
              ]
            },
            "description": "Filtra movimenta√ß√µes de um produto espec√≠fico."
          },
          "response": []
        },
        {
          "name": "Get Movement by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/stockmovements/1",
              "host": ["{{baseUrl}}"],
              "path": ["stockmovements", "1"]
            },
            "description": "Busca uma movimenta√ß√£o espec√≠fica com dados do produto."
          },
          "response": []
        },
        {
          "name": "Register Entry (Entrada)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"tipo\": \"entrada\",\n  \"quantidade\": 50,\n  \"produtoId\": 1\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/stockmovements",
              "host": ["{{baseUrl}}"],
              "path": ["stockmovements"]
            },
            "description": "Registra uma entrada de mercadoria.\n\n**Permiss√µes:** Admin e Estoquista\n\n**Campos obrigat√≥rios:**\n- tipo: \"entrada\"\n- quantidade: N√∫mero positivo\n- produtoId: ID do produto\n\n**Nota:** O campo `stock` do produto √© atualizado automaticamente"
          },
          "response": []
        },
        {
          "name": "Register Exit (Sa√≠da)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"tipo\": \"saida\",\n  \"quantidade\": 10,\n  \"produtoId\": 1\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/stockmovements",
              "host": ["{{baseUrl}}"],
              "path": ["stockmovements"]
            },
            "description": "Registra uma sa√≠da de mercadoria.\n\n**Permiss√µes:** Admin e Estoquista\n\n**Campos obrigat√≥rios:**\n- tipo: \"saida\"\n- quantidade: N√∫mero positivo\n- produtoId: ID do produto\n\n**Nota:** O campo `stock` do produto √© atualizado automaticamente"
          },
          "response": []
        },
        {
          "name": "Delete Movement (Admin)",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/stockmovements/1",
              "host": ["{{baseUrl}}"],
              "path": ["stockmovements", "1"]
            },
            "description": "Exclui uma movimenta√ß√£o.\n\n**Permiss√µes:** Apenas Admin\n\n**‚ö†Ô∏è Aten√ß√£o:** O campo `stock` do produto precisa ser recalculado manualmente ap√≥s exclus√£o"
          },
          "response": []
        }
      ],
      "description": "Gerenciamento de movimenta√ß√µes de estoque (entradas e sa√≠das)"
    },
    {
      "name": "Dashboard",
      "item": [
        {
          "name": "Get Dashboard",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/dashboard",
              "host": ["{{baseUrl}}"],
              "path": ["dashboard"]
            },
            "description": "Retorna resumo do sistema e alertas de estoque.\n\n**Permiss√µes:** Admin e Estoquista\n\n**Retorna:**\n- resumo: Estat√≠sticas gerais (produtos, fornecedores, movimenta√ß√µes)\n- alertas: Produtos com estoque abaixo do m√≠nimo"
          },
          "response": []
        }
      ],
      "description": "Dashboard com estat√≠sticas e alertas"
    }
  ],
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:4000",
      "type": "string"
    },
    {
      "key": "authToken",
      "value": "",
      "type": "string"
    }
  ]
}
